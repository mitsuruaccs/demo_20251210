{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Run Backend (Django)",
      "type": "shell",
      "command": "python",
      "args": [
        "manage.py",
        "runserver",
        "8000"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "HTTP_PROXY": "http://10.12.1.253:8080",
          "HTTPS_PROXY": "http://10.12.1.253:8080"
        }
      },
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Run Frontend (Next.js)",
      "type": "shell",
      "command": "npm",
      "args": [
        "run",
        "dev"
      ],
      "options": {
        "cwd": "${workspaceFolder}/frontend",
        "env": {
          "HTTP_PROXY": "http://10.12.1.253:8080",
          "HTTPS_PROXY": "http://10.12.1.253:8080"
        }
      },
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Start Both",
      "dependsOn": [
        "Run Backend (Django)",
        "Run Frontend (Next.js)"
      ],
      "dependsOrder": "parallel",
      "problemMatcher": []
    }
    ,
    {
      "label": "Install Backend Deps",
      "type": "shell",
      "command": "python",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "requirements.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}/backend",
        "env": {
          "HTTP_PROXY": "http://10.12.1.253:8080",
          "HTTPS_PROXY": "http://10.12.1.253:8080"
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Install Frontend Deps",
      "type": "shell",
      "command": "npm",
      "args": [
        "install"
      ],
      "options": {
        "cwd": "${workspaceFolder}/frontend",
        "env": {
          "HTTP_PROXY": "http://10.12.1.253:8080",
          "HTTPS_PROXY": "http://10.12.1.253:8080"
        }
      },
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Setup and Start",
      "dependsOn": [
        "Install Backend Deps",
        "Install Frontend Deps",
        "Start Both"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": []
    }
  ]
}
